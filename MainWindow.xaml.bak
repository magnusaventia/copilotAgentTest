<Window x:Class="MunicipalQuizGame.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Norske Kommuner Quiz" Height="700" Width="900"
        WindowStartupLocation="CenterScreen"
        Background="#F8F9FA"
        MinHeight="700" MinWidth="900">
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Header -->
        <Border Grid.Row="0" Background="#E74C3C" Padding="15">
            <StackPanel>
                <TextBlock x:Name="TitleText" 
                          Text="NORSKE KOMMUNER QUIZ" 
                          Style="{StaticResource TitleStyle}"
                          Foreground="White"/>
                <TextBlock x:Name="ScoreText" 
                          Text="Poeng: 0 | Sporsmal: 0/12" 
                          HorizontalAlignment="Center"
                          FontSize="16" 
                          Foreground="White"/>
            </StackPanel>
        </Border>

        <!-- Main Content - Fixed Height Grid -->
        <Grid Grid.Row="1" Margin="20">
            
            <!-- Welcome Screen -->
            <StackPanel x:Name="WelcomeScreen" 
                       Visibility="Visible"
                       VerticalAlignment="Center">
                <TextBlock Text="Velkommen til Norske Kommuner Quiz!" 
                          Style="{StaticResource QuestionStyle}"
                          Margin="0,0,0,20"/>
                <TextBlock Text="Test din kunnskap om norske kommuner!" 
                          FontSize="16" 
                          TextAlignment="Center"
                          Foreground="#7F8C8D"
                          Margin="0,0,0,30"/>
                <Button x:Name="StartButton" 
                       Content="Start Quiz" 
                       Width="200" 
                       Height="50"
                       FontSize="18"
                       Click="StartButton_Click"
                       HorizontalAlignment="Center"/>
            </StackPanel>

            <!-- Quiz Screen - Structured Grid Layout -->
            <Grid x:Name="QuizScreen" Visibility="Collapsed">
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="*"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>
                
                <!-- Category -->
                <TextBlock x:Name="CategoryText" 
                          Grid.Row="0"
                          Text="Kategori: Geografi" 
                          FontSize="14"
                          Foreground="#95A5A6"
                          HorizontalAlignment="Center"
                          Margin="0,10,0,10"/>
                
                <!-- Question Image -->
                <Border Grid.Row="1" 
                       Background="White"
                       BorderBrush="#BDC3C7"
                       BorderThickness="1"
                       CornerRadius="5"
                       Margin="20,0,20,10"
                       MaxHeight="150">
                    <Image x:Name="QuestionImage" 
                          Stretch="UniformToFill"
                          HorizontalAlignment="Center"
                          VerticalAlignment="Center"/>
                </Border>
                
                <!-- Question -->
                <TextBlock x:Name="QuestionText" 
                          Grid.Row="2"
                          Style="{StaticResource QuestionStyle}"
                          Text="Sporsmal vil vises her"
                          Margin="20,10,20,15"/>
                
                <!-- Options Panel with Fixed Minimum Height -->
                <Border Grid.Row="3" 
                       Background="Transparent"
                       MinHeight="200">
                    <ScrollViewer VerticalScrollBarVisibility="Auto" 
                                 MaxHeight="220">
                        <StackPanel x:Name="OptionsPanel" Margin="20,0">
                            <!-- Options will be dynamically added here -->
                        </StackPanel>
                    </ScrollViewer>
                </Border>
                
                <!-- Feedback Panel -->
                <Border Grid.Row="4" 
                       x:Name="FeedbackBorder"
                       Background="#F8F9FA"
                       BorderBrush="#BDC3C7"
                       BorderThickness="1"
                       CornerRadius="5"
                       Margin="20,10"
                       Padding="15"
                       MaxHeight="120"
                       Visibility="Collapsed">
                    <StackPanel x:Name="FeedbackPanel">
                        <TextBlock x:Name="FeedbackText" 
                                  FontSize="16" 
                                  FontWeight="Bold"
                                  TextAlignment="Center"
                                  Margin="0,0,0,8"/>
                        <ScrollViewer VerticalScrollBarVisibility="Auto" 
                                     MaxHeight="60">
                            <TextBlock x:Name="ExplanationText" 
                                      FontSize="14"
                                      TextWrapping="Wrap"
                                      TextAlignment="Center"
                                      Foreground="#34495E"
                                      Margin="0,0,0,5"/>
                        </ScrollViewer>
                    </StackPanel>
                </Border>
                
                <!-- Next Button - Always Visible at Bottom -->
                <Button x:Name="NextButton" 
                       Grid.Row="5"
                       Content="Neste sporsmal" 
                       Width="200"
                       Height="40"
                       Margin="20,10"
                       Click="NextButton_Click"
                       HorizontalAlignment="Center"
                       Visibility="Collapsed"/>
            </Grid>

            <!-- Results Screen -->
            <StackPanel x:Name="ResultsScreen" 
                       Visibility="Collapsed"
                       VerticalAlignment="Center">
                <TextBlock Text="Quiz fullfort!" 
                          Style="{StaticResource TitleStyle}"
                          Margin="0,0,0,20"/>
                
                <TextBlock x:Name="FinalScoreText" 
                          Text="Din poengsum: 0/12" 
                          FontSize="24"
                          FontWeight="Bold"
                          HorizontalAlignment="Center"
                          Margin="0,0,0,20"/>
                
                <TextBlock x:Name="PerformanceText" 
                          Text="Gratulerer!" 
                          FontSize="18"
                          HorizontalAlignment="Center"
                          Foreground="#27AE60"
                          Margin="0,0,0,30"/>
                
                <StackPanel Orientation="Horizontal" 
                           HorizontalAlignment="Center"
                           Margin="20">
                    <Button x:Name="RestartButton" 
                           Content="Spill igjen" 
                           Width="150"
                           Height="40"
                           Margin="10"
                           Click="RestartButton_Click"/>
                    <Button x:Name="ExitButton" 
                           Content="Avslutt" 
                           Width="150"
                           Height="40"
                           Margin="10"
                           Click="ExitButton_Click"/>
                </StackPanel>
            </StackPanel>
        </Grid>

        <!-- Footer -->
        <Border Grid.Row="2" Background="#34495E" Padding="10">
            <TextBlock Text="Test din kunnskap om norske kommuner" 
                      HorizontalAlignment="Center"
                      Foreground="White"
                      FontSize="12"/>
        </Border>
    </Grid>
</Window>